(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(15),a=t.n(r),o=t(6),u=t(3),i=t(4),s=t.n(i),j="/api/persons",l=function(){return s.a.get(j).then((function(e){return e.data}))},b=function(e){return s.a.post(j,e).then((function(e){return e.data}))},d=function(e,n){var t="".concat(j,"/").concat(e);return s.a.put(t,n).then((function(e){return e.data}))},f=function(e){var n="".concat(j,"/").concat(e);return s.a.delete(n).then((function(e){return e.data}))},O=t(0);var h=function(e){var n=e.person,t=n.id,c=n.name,r=n.number;return Object(O.jsxs)("p",{children:[Object(O.jsxs)("label",{children:[c," : ",r]}),Object(O.jsx)("input",{type:"button",value:"Delete",onClick:function(e){!0===confirm("Desea borrar el usuario ".concat(c," ").concat(t))&&(console.log("Eleigio borrar"),f(t))}})]})};var v=function(e){var n=e.persons;return Object(O.jsx)("div",{children:n.map((function(e){return Object(O.jsx)(h,{person:e},e.id)}))})},p=function(e){var n=e.message;return null===n?null:Object(O.jsx)("div",{className:"success",children:n})},m=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],j=i[1],f=Object(c.useState)(""),h=Object(u.a)(f,2),m=h[0],x=h[1],g=Object(c.useState)(null),w=Object(u.a)(g,2),C=w[0],S=w[1],D=Object(c.useState)(""),k=Object(u.a)(D,2),E=k[0],L=k[1],y=function(e){S(e),setTimeout((function(){S(null)}),5e3)},A=function(e){l().then(r(function(e){if(void 0!==t)return t.filter((function(n){return n.name.toLowerCase().indexOf(e.toLowerCase())>-1}));return t}(e)))};Object(c.useEffect)((function(){l().then((function(e){r(e)})).catch((function(e){alert("Error al recuperar personas del server: ".concat(e))}))}),[]);var J=function(e){b(e).then((function(n){r(t.concat(n)),y("Added ".concat(e.name))}))},N=function(e){!0===confirm("Desea actualizar el telefono de ".concat(e.name))&&d(e.id,e).then((function(n){r(t.map((function(t){return t.id!==e.id?t:n}))),y("Updated ".concat(e.name))}))};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Phonebook"}),Object(O.jsx)(p,{message:C}),Object(O.jsxs)("p",{children:["Filter  shown with: ",Object(O.jsx)("input",{value:E,onChange:function(e){console.log("Value",e.target.value.toLowerCase());var n=e.target.value.toLowerCase();console.log("Antes",E),L(n),console.log("Despues",E),A(n)}})]}),Object(O.jsx)("h3",{children:"Add a new"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:s,number:m},c=t.find((function(e){return e.name===s}));if(void 0!==c){var r=Object(o.a)(Object(o.a)({},c),{},{number:n.number});N(r)}else J(n);j(""),x("")},children:[Object(O.jsxs)("div",{children:["name: ",Object(O.jsx)("input",{value:s,onChange:function(e){j(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"number: ",Object(O.jsx)("input",{value:m,onChange:function(e){x(e.target.value)}})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",children:"add"})})]}),Object(O.jsx)("h3",{children:"Numbers"}),Object(O.jsx)(v,{persons:t})]})};t(39);a.a.render(Object(O.jsx)(m,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e1fdc2cf.chunk.js.map